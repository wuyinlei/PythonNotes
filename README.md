# python学习笔记

标签（空格分隔）： python

---
### python特性概要
* 1、python是解释型语言
* 2、python特性总结:字节码、动态、缩进
    * 2.1 字节码
    * 2.2 动态语义 在赋值的时候确定数据类型
    * 2.3 缩进
* 3、python之禅


    
#### 脚本解释性语言的内部机制
* 在运行脚本之前,得到结果之后
    * 1、python先将脚本编译成字节码  文件(pyc,pyo)
    * 2、python虚拟机解释并运行字节码文件

#### 编译型语言的内部机制
* 1、先将源代码编译成机器码(机器能读懂的代码),生成可执行文件
* 2、运行可执行文件
    

#### 一些标准
```
#coding=utf-8    编码格式
#上面其实随便怎么写都可以 只要符合coding[:=]\s*([-\w.]+)
#比如这种卖萌写法： # -*- coding: utf-8 -*-

"这是一个标准脚本的写作范式,此处为该脚本文档。"  (这里使用""括起来)

#这里给下面语句做一个注释
new_str = "这是一个全局变量"  #这样写注释也是可以的

def hello():
    """
    这是一个函数定义的多行注释
    继续多行

    """
    return "hello world"
    
#程序主体
if __name__ == "__main__":
    print hello()

```

#### 对变量、对象与赋值的浅析
* 1、不记住就完蛋了
    * 1.1：一切数据都是对象
    * 1.2：一切变量都输对数据对象的一个引用
    * 1.3：python内部的引用计数。sys.getrefcount
* 2、变量命名规范
    * 2.1 记住只能做什么。用字母和_开头
    * 2.2 记住不能做什么。不能用关键字
    * 2.3 怎么搭配最合理：文件名小写、变量小写、函数名小写。_让变量更清楚
    * 2.4 大小写敏感

#### 格式化输入/出
|字符|输出格式|
|:-:|:-:|
|d,i|十进制整数或者长整数|
|u|无符号整数或长整数|
|o|八进制整数或长整数|
|x|十六进制整数或长整数|
|X|十六进制整数(大写字母)|
|f|浮点数,如[-]m.dddddd|
|e|浮点数,如[-]m.dddddde+xx| 
|E|浮点数,如[-]m.ddddddE+xx|
|g,G|指数小于-4或者更高精度时试用%e或者%E,否则试用%f|
|s|煮饭吃或任意对象,格式化代码试用str()生成字符串|
|r|同repr()生成的字符串|
|c|单个字符|
|%|字面量%|

#### 函数的创建与调用
* 函数是实现模块化编程的基本组件
* Python试用def语句定义函数
* 函数可以参数化,通过传递不同的参数来调用
* 每个Python函数都有一个返回值,默认为None,也可以使用"return value"明确定义返回值
* def语句会创建一个函数对象,并同时创建一个指向函数对象的引用
    * 函数也是对象,可以存储在组合数据类型中,也可以作为参数传递给其他函数
    * callable()可用于测试函数是否可调用
    
    ```
    #定义一个打印函数
    >>> def printName(name):
            print name    
    
    #测试该函数是否可以使用
    >>> callable(printName)
    #返回true  表示可以使用
    true
    #执行这个函数
    >>> printName("Hello world")
    #控制台输出这个输入的参数
    Hello world
        
    ```
    
    ##### Python有众多内置函数
    * Python标准库拥有众多内置模块,这些模块拥有大量函数
        * Python模块实际上就是包含Python代码的.py文件,其拥有自定义的函数与类及变量等
        * 导入模块使用import语句进行,后跟模块名称(不能指定模块文件的后缀.py)
        * 导入一个模块后,可以访问其内部包含的任意函数
        
        ```
        >>> import random
        >>> x = random.choice(['a','b','c','d','e','f','g'])
        >>> print x
        d
        ```
        
    #### 语句和语法
    * 注释
        * #:可以从一行的任何地方开始
    * 续行
        * \:
        * ''':闭合操作符,单一语句跨多行
    * 代码组
        * 缩进相同的一组语句构成的一个代码块
        * 首行以关键字开始,如if/while等,以冒号结束
        * Python使用缩进来分隔代码组,同一代码组的代码行必须对其,否则会造成语法错误

    * 同一行放置多个语句
        * ;:以分号作为分隔符
    * 模块
        * 每一个Python脚本文件都可以被当成一个模块
        * 模块里的代码可以是一段直接执行的脚本,也可以是一些类似函数的代码从而可由别的模块执行导入(import)
        
    #### Python命名惯例
    * 以单一下划线开头的变量名(_x)不会被from module import* 语句导入
    * 前后有下划线的变量名(__x__)是系统变量名,对解释器有特殊意义
    * 以两个下划线开头,但是结尾没有下划线的变量名(__x)是类的本地变量
    * 交互模式下,只有单个下划线的变量名(_)用于保存最后表达式的结果
    
#### Python文件结构
```
#/usr/bin/env python    （1）起始行

"this is a test module"  (2) 模块文档(文档字符串)

import sys 
import os                (3)模块导入

debug = True             (4)（全局）变量定义

class FooClass(object):
    "Foo class"
    pass                  （5）类定义(如果有的话)
    
def test():
    "test function"
    foo = FooClass()
    if debug:
        print 'ran test()'    (6) 函数定义(如果有的话)
        
if __name__ = '__main__':
    test()                     (7)主程序
```

* 主程序
    * 无论当前模块是被别的模块导入还是作为脚本直接执行,都会执行这部分代码
* 注意:所有的模块都有能力执行代码
    * 最高级别的Python语句(没有缩进的)在模块被导入时候就会执行,无论是否真的需要执行
    * 妥当的做法:除了那些真正需要执行的代码以外,所有的功能代码都通过函数建立,因此
        * 仅在主程序模块中编写大量的顶级可执行代码
        * 用于被导入的模块只应该存在较少的顶级执行代码
* __name__指示模块应该如何被加载
    * 如果模块是被导入,__name__的值是模块名字
    * 如果模块是直接执行,__name__的值是'__main__'
    
#### 核心数据类型
* 数字:int long float complex bool
* 字符:str unicode
* 列表:list
* 字典:dist
* 元组:tuple
* 文件:file
* 其他类型:集合(set)、frozenset、类类型、None

##### 类型转换
```
str()  repr() 或者format():将非字符型数据转换为字符
int():转换为整数
float():转换为float类型

list(s):将字符串s转换为列表
tuple(s):将字符串s转换为元祖
set(s):将字符串转换为集合
```
